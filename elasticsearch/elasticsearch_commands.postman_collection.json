{
	"info": {
		"_postman_id": "4eb00039-f2a7-40f4-809d-c16eac03be22",
		"name": "elasticsearch_commands",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "List indices",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/_stats?pretty=true",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"_stats"
					],
					"query": [
						{
							"key": "pretty",
							"value": "true"
						}
					]
				},
				"description": "List all indices"
			},
			"response": []
		},
		{
			"name": "Check health",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/_cluster/health?pretty=true&level=indices",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"_cluster",
						"health"
					],
					"query": [
						{
							"key": "pretty",
							"value": "true"
						},
						{
							"key": "level",
							"value": "indices"
						}
					]
				},
				"description": "Check health of service and indices"
			},
			"response": []
		},
		{
			"name": "Check service",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}"
				},
				"description": "Check state of service"
			},
			"response": []
		},
		{
			"name": "Check stats",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/_stats?pretty=true",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"_stats"
					],
					"query": [
						{
							"key": "pretty",
							"value": "true"
						}
					]
				},
				"description": "Check stats of cluster and indices"
			},
			"response": []
		},
		{
			"name": "Node info",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/_nodes/os,jvm",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"_nodes",
						"os,jvm"
					]
				},
				"description": "Get node, OS, and Java information"
			},
			"response": []
		},
		{
			"name": "Delete all",
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/_all",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"_all"
					]
				},
				"description": "Delete all indices"
			},
			"response": []
		},
		{
			"name": "Get index mapping",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}/_mapping?pretty=true",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{INDEX}}",
						"_mapping"
					],
					"query": [
						{
							"key": "pretty",
							"value": "true"
						}
					]
				},
				"description": "Get index mapping"
			},
			"response": []
		},
		{
			"name": "Delete index",
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"disabled": true
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{INDEX}}"
					]
				},
				"description": "Delete index"
			},
			"response": []
		},
		{
			"name": "Create index",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"settings\": {\n    \"number_of_shards\": \"{{SHARDS}}\", \n    \"number_of_replicas\": \"{{REPLICAS}}\"\n  },\n  \"mappings\": {\n\t  \"properties\": {\n\t  \t\"name\": {\"type\": \"keyword\"},\n\t  \t\"age\":  {\"type\": \"integer\"},\n\t    \"concerts\": {\n\t      \"type\": \"nested\",\n\t      \"properties\": {\n\t      \t\"name\": {\"type\": \"keyword\"}\n\t      }\n\t    }\n\t  }\n  }\n  \n}"
				},
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}?pretty=true",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{INDEX}}"
					],
					"query": [
						{
							"key": "pretty",
							"value": "true"
						}
					]
				},
				"description": "Create an index"
			},
			"response": [
				{
					"name": "create index",
					"originalRequest": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"settings\": {\n    \"number_of_shards\": \"{{SHARDS}}\", \n    \"number_of_replicas\": \"{{REPLICAS}}\"\n  },\n  \"mappings\": {\n    \"_doc\": {\n      \"properties\": {\n      \t\"testname\": \t\t{ \"type\": \"text\" },\n\t\t\"timestamp\":\t\t{ \"type\": \"date\", \"format\": \"yyyy-MM-dd'T'HH:mm:ss'Z'\" },\n\t\t\"stack\":\t\t\t{ \"type\": \"keyword\" },\n\t\t\"inventory\":\t\t{ \"type\": \"keyword\" },\n\t\t\"configuration\":\t{ \"type\": \"nested\", \"dynamic\": \"true\" },\n\t\t\"duration\": \t\t{ \"type\": \"float\" }\n      }\n    }\n  }\n}"
						},
						"url": {
							"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}?pretty&pretty",
							"protocol": "http",
							"host": [
								"{{SERVER}}"
							],
							"port": "{{PORT}}",
							"path": [
								"{{INDEX}}"
							],
							"query": [
								{
									"key": "pretty",
									"value": null
								},
								{
									"key": "pretty",
									"value": null
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		},
		{
			"name": "Refresh index",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}/_refresh",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{INDEX}}",
						"_refresh"
					]
				},
				"description": "Refresh index"
			},
			"response": []
		},
		{
			"name": "Count all in index",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"url": {
					"raw": "http://{{SERVER}}:9200/{{INDEX}}/_doc/_count",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "9200",
					"path": [
						"{{INDEX}}",
						"_doc",
						"_count"
					]
				},
				"description": "Count all documents in index"
			},
			"response": []
		},
		{
			"name": "Disable merge throttling",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"transient\" : {\n        \"indices.store.throttle.type\" : \"none\" \n    }\n}"
				},
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}/_settings",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{INDEX}}",
						"_settings"
					]
				},
				"description": "Disable merge throttling"
			},
			"response": [
				{
					"name": "set refresh",
					"originalRequest": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"index\" : {\n        \"refresh_interval\" : \"1s\"\n    }\n}"
						},
						"url": {
							"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}/_settings",
							"protocol": "http",
							"host": [
								"{{SERVER}}"
							],
							"port": "{{PORT}}",
							"path": [
								"{{INDEX}}",
								"_settings"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "content-encoding",
							"value": "gzip",
							"name": "content-encoding",
							"description": "The type of encoding used on the data."
						},
						{
							"key": "content-length",
							"value": "47",
							"name": "content-length",
							"description": "The length of the response body in octets (8-bit bytes)"
						},
						{
							"key": "content-type",
							"value": "application/json; charset=UTF-8",
							"name": "content-type",
							"description": "The mime type of this content"
						}
					],
					"cookie": [],
					"body": "{\"acknowledged\":true}"
				},
				{
					"name": "set refresh off",
					"originalRequest": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"index\" : {\n        \"refresh_interval\" : \"-1\"\n    }\n}"
						},
						"url": {
							"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}/_settings",
							"protocol": "http",
							"host": [
								"{{SERVER}}"
							],
							"port": "{{PORT}}",
							"path": [
								"{{INDEX}}",
								"_settings"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "content-encoding",
							"value": "gzip",
							"name": "content-encoding",
							"description": "The type of encoding used on the data."
						},
						{
							"key": "content-length",
							"value": "47",
							"name": "content-length",
							"description": "The length of the response body in octets (8-bit bytes)"
						},
						{
							"key": "content-type",
							"value": "application/json; charset=UTF-8",
							"name": "content-type",
							"description": "The mime type of this content"
						}
					],
					"cookie": [],
					"body": "{\"acknowledged\":true}"
				}
			]
		},
		{
			"name": "Set index refresh",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"index\" : {\n        \"refresh_interval\" : \"-1\"\n    }\n}"
				},
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}/_settings",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{INDEX}}",
						"_settings"
					]
				},
				"description": "Set refresh interval for index"
			},
			"response": [
				{
					"name": "set refresh off",
					"originalRequest": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"index\" : {\n        \"refresh_interval\" : \"-1\"\n    }\n}"
						},
						"url": {
							"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}/_settings",
							"protocol": "http",
							"host": [
								"{{SERVER}}"
							],
							"port": "{{PORT}}",
							"path": [
								"{{INDEX}}",
								"_settings"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "content-encoding",
							"value": "gzip",
							"name": "content-encoding",
							"description": "The type of encoding used on the data."
						},
						{
							"key": "content-length",
							"value": "47",
							"name": "content-length",
							"description": "The length of the response body in octets (8-bit bytes)"
						},
						{
							"key": "content-type",
							"value": "application/json; charset=UTF-8",
							"name": "content-type",
							"description": "The mime type of this content"
						}
					],
					"cookie": [],
					"body": "{\"acknowledged\":true}"
				},
				{
					"name": "set refresh",
					"originalRequest": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"index\" : {\n        \"refresh_interval\" : \"1s\"\n    }\n}"
						},
						"url": {
							"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}/_settings",
							"protocol": "http",
							"host": [
								"{{SERVER}}"
							],
							"port": "{{PORT}}",
							"path": [
								"{{INDEX}}",
								"_settings"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "content-encoding",
							"value": "gzip",
							"name": "content-encoding",
							"description": "The type of encoding used on the data."
						},
						{
							"key": "content-length",
							"value": "47",
							"name": "content-length",
							"description": "The length of the response body in octets (8-bit bytes)"
						},
						{
							"key": "content-type",
							"value": "application/json; charset=UTF-8",
							"name": "content-type",
							"description": "The mime type of this content"
						}
					],
					"cookie": [],
					"body": "{\"acknowledged\":true}"
				}
			]
		},
		{
			"name": "Save ES snapshot",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"type\": \"fs\",\n    \"settings\": {\n        \"location\": \"/mnt/nfsshare/es_backups/my_fs_backup_location\",\n        \"compress\": true\n    }\n}"
				},
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/_snapshot/my_fs_backup",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"_snapshot",
						"my_fs_backup"
					]
				},
				"description": "Save a snapshot or backup of ES"
			},
			"response": []
		},
		{
			"name": "Timestamp pipeline",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "e2f20947-e46d-48c0-8095-9fa550998308",
						"exec": [
							"pm.environment.set(\"source\", JSON.stringify(",
							"    `",
							"\t DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");",
							"\t df.setTimeZone(TimeZone.getTimeZone(\"UTC\"));",
							"\t Date date = new Date();",
							"\t ctx.processingtime = df.format(date);",
							"    `",
							"));"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"description\": \"Add timestamp to document\",\n\t\"processors\": [\n\t\t{\n\t\t\t\"script\" : {\n\t\t\t\t\"source\": {{source}}\n\t\t\t}\n\t\t}\t\n\t]\n}\n"
				},
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/_ingest/pipeline/timestamp_pipeline",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"_ingest",
						"pipeline",
						"timestamp_pipeline"
					]
				},
				"description": "Add timestamp to document"
			},
			"response": [
				{
					"name": "put one",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"testname\": \t\t\"dummy test\",\n\t\"timestamp\":\t\t\"2018-07-31T14:20:54Z\",\n\t\"stack\":\t\t\t[\"Postman\"],\n\t\"inventory\":\t\t[\"localhost\"],\n\t\"configuration\":\t{\"feeling_good\": \"true\"},\n\t\"duration\": \t\t\"1.0\"\n}\n"
						},
						"url": {
							"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}/_doc",
							"protocol": "http",
							"host": [
								"{{SERVER}}"
							],
							"port": "{{PORT}}",
							"path": [
								"{{INDEX}}",
								"_doc"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "Text",
					"header": [],
					"cookie": [],
					"body": ""
				}
			]
		},
		{
			"name": "Random match",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"size\": 1,\n  \"query\": {\n    \"function_score\": {\n      \"functions\": [\n        {\n          \"random_score\": {\n            \"seed\": \"42\"\n          }\n        }\n      ]\n    }\n  }\n}"
				},
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}/_search?pretty=true",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{INDEX}}",
						"_search"
					],
					"query": [
						{
							"key": "pretty",
							"value": "true"
						}
					]
				},
				"description": "Get a random match"
			},
			"response": []
		},
		{
			"name": "Bulk index or delete",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \"delete\": { \"_id\": \"a99Zy20BczHN8VwH3j5P\" } }\n{ \"delete\": { \"_id\": \"at9Zy20BczHN8VwHBj5b\" } }\n{ \"delete\": { \"_id\": \"ad9Yy20BczHN8VwH2z6O\" } }\n{ \"delete\": { \"_id\": \"aN9Xy20BczHN8VwHrj4f\" } }\n"
				},
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}/_bulk?pretty=true",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{INDEX}}",
						"_bulk"
					],
					"query": [
						{
							"key": "pretty",
							"value": "true"
						}
					]
				},
				"description": "Perform multiple indexing or delete operations in a single call\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html"
			},
			"response": []
		},
		{
			"name": "Match all",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"size\": 20,\n  \"query\": {\n    \"match_all\": {}\n  }\n}"
				},
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}/_search?pretty=true",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{INDEX}}",
						"_search"
					],
					"query": [
						{
							"key": "pretty",
							"value": "true"
						}
					]
				},
				"description": "Match all documents"
			},
			"response": []
		},
		{
			"name": "Delete item by id",
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "http://{{SERVER}}:{{PORT}}/{{INDEX}}/_doc/1",
					"protocol": "http",
					"host": [
						"{{SERVER}}"
					],
					"port": "{{PORT}}",
					"path": [
						"{{INDEX}}",
						"_doc",
						"1"
					]
				},
				"description": "Delete item from index by id"
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "6daff9fd-3b1d-4772-ba1b-0ba98c659462",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "85d12527-ce66-4f9e-b1b1-2c2b72cf93ec",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"protocolProfileBehavior": {}
}